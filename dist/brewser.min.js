!function(e){"use strict";if(alert("BREWSER runs"),!window.BREWSER){var i={_init:function(){function e(){alert("_detectDevice()"),I.device.touch=m(),I.device.orientation.portrait=!1,I.device.orientation.landscape=!1;var e=1;"deviceXDPI"in screen?e=screen.deviceXDPI/screen.logicalXDPI:"devicePixelRatio"in window&&(e=window.devicePixelRatio),I.resolution=Number(e.toFixed(3)),I.screenWidth=window.screen.width,I.screenHeight=window.screen.height,I.windowWidth=window.innerWidth||document.body.clientWidth,I.windowHeight=window.innerHeight||document.body.clientHeight;var i=I.screenWidth,o=I.screenHeight,n=I.windowWidth,r=I.windowHeight;I.device.touch&&window.screen.height<window.screen.width&&(i=I.screenHeight,o=I.screenWidth,n=I.windowHeight,r=I.windowWidth),I.windowWidth>I.windowHeight?I.device.orientation.landscape=!0:I.device.orientation.portrait=!0,I.device.phone=(I.browser.mobile||I.device.touch)&&600>i,I.device.tablet=(I.browser.mobile||I.device.touch)&&(i>=600||/(nexus 7|tablet|ipad|kindle)/g.test(N)),I.device.tablet&&(I.device.phone=!1),I.device.desktop=!I.device.phone&&!I.device.tablet,I.device.ios=t()}function i(){return/(windows|windows nt)/g.test(N)}function o(){return/(macintosh|intel mac|os x)/g.test(N)}function t(){return/(ipad|iphone|ipod)/g.test(N)}function n(){return N.indexOf("android")>-1}function r(){var e=I.NOT_AVAILABLE;i()?e="Windows":t()?e="Apple iOS":n()?e="Android":o()&&(e="Mac OS X"),I.device.os=e}function a(){return/(windows nt|msie|iemobile|ie)/g.test(N)}function d(){return N.indexOf("firefox")>-1}function s(){return/(opera|opr)/g.test(N)}function c(){return N.indexOf("safari")>-1&&!s()&&!u()&&!n()}function u(){return(N.indexOf("chrome")>-1||N.indexOf("crios")>-1)&&!s()}function A(){return/(silk)/g.test(N)}function w(){return/(kindle)/g.test(N)}function h(e,i){for(var o,t=e.split("|"),n=N.split(" "),r=0;r<t.length;r++){var a=t[r];if("msie"===a){var d=new RegExp("msie ([0-9]{1,}[.0-9]{0,})");null!==d.exec(N)&&(o="short"!==i?RegExp.$1:parseFloat(RegExp.$1)),"undefined"==typeof o&&!window.ActiveXObject&&"ActiveXObject"in window&&(o=N.substring(N.indexOf("rv:")+3,N.indexOf(")")))}else for(var s=0;s<n.length;s++)if(n[s].indexOf(a)>-1){o=n[s],o.substring(o.indexOf("/")>-1&&o.indexOf(".")>-1)&&("short"===i?(o=o.substring(o.indexOf("/")+1,o.indexOf(".")),o=parseInt(o)):o=o.substr(o.indexOf("/")+1,o.length));break}}return"undefined"==typeof o?I.NOT_AVAILABLE:o.toString().replace(";","")}function l(){var e=I.NOT_AVAILABLE,i=I.NOT_AVAILABLE,o=I.NOT_AVAILABLE;w()?(e=I.BROWSERS.kindle,i=h("kindle","short"),o=h("kindle"),I.browser.kindle=!0):s()?(e=I.BROWSERS.opera,i=h("opr|opera","short"),o=h("opr|opera"),I.browser.opera=!0):d()?(e=I.BROWSERS.firefox,i=h("firefox","short"),o=h("firefox"),I.browser.firefox=!0):u()?(e=I.BROWSERS.chrome,i=h("chrome|crio","short"),o=h("chrome|crio"),I.browser.chrome=!0):A()?(e=I.BROWSERS.silk,i=h("silk","short"),o=h("silk"),I.browser.silk=!0):c()?(e=I.BROWSERS.safari,i=h("version","short"),o=h("version"),I.browser.safari=!0):a()?(e=I.BROWSERS.ie,i=h("msie|iemobile","short"),o=h("msie|iemobile"),I.browser.ie=!0):(e=I.BROWSERS.other,I.browser.other=!0),I.browser.type=e,I.browser.version=i,I.browser.fullVersion=o,I.browser.string=e+" "+o,I.browser.mobile=/(blackberry|silk|mobile|tablet|mini|android|ios|ipod|iphone|ipad)/g.test(N)}function m(){return!!("ontouchstart"in window)||!!("onmsgesturechange"in window)&&!!window.navigator.maxTouchPoints}function f(){var e=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame;return!!e}function p(){return!!("getComputedStyle"in window&&(window.getComputedStyle(document.body).getPropertyValue("-webkit-transform")||window.getComputedStyle(document.body).getPropertyValue("-o-transform")||window.getComputedStyle(document.body).getPropertyValue("-moz-transform")||window.getComputedStyle(document.body).getPropertyValue("-ms-transform")||window.getComputedStyle(document.body).getPropertyValue("transform")))}function L(){return!!window.matchMedia}function v(){var e=window.navigator.getUserMedia||window.navigator.webkitGetUserMedia||window.navigator.mozGetUserMedia||window.navigator.msGetUserMedia;return!!e}function g(e){return document.createElement(e)}function E(){var e=g("canvas");I.has.webGL=!!e.getContext&&!!e.getContext("webgl"),e=g("canvas"),I.has.canvas=!!e.getContext&&"function"==typeof e.getContext("2d").fillText}function O(){var e=g("video");I.has.video=!!e&&"undefined"!=typeof e.canPlayType,I.has.video?(I.has.videoFormats.mp4=""!==e.canPlayType("video/mp4")?!0:!1,I.has.videoFormats.webm=""!==e.canPlayType("video/webm")?!0:!1,I.has.videoFormats.ogg=""!==e.canPlayType("video/ogg")?!0:!1):(I.has.videoFormats.mp4=!1,I.has.videoFormats.webm=!1,I.has.videoFormats.ogg=!1)}function b(){var e;if("undefined"==typeof I.cachedWebAudioResult){if(window.AudioContext=window.AudioContext||window.webkitAudioContext||window.mozAudioContext,"undefined"!=typeof window.AudioContext){var i=new AudioContext;e=!!i&&"function"==typeof i.createGain}else e=!1;I.cachedWebAudioResult=e}else e=I.cachedWebAudioResult;return e}function y(){var e=g("audio");I.has.audio=!!e&&"undefined"!=typeof e.canPlayType,I.has.audioApi=!!("Audio"in window),I.has.audio?(I.has.audioFormats.mp3=!(!e.canPlayType||!e.canPlayType("audio/mpeg;").replace(/no/,"")),I.has.audioFormats.ogg=!(!e.canPlayType||!e.canPlayType('audio/ogg; codecs="vorbis"').replace(/no/,"")),I.has.audioFormats.wav=!(!e.canPlayType||!e.canPlayType('audio/wav; codecs="1"').replace(/no/,"")),I.has.audioFormats.mp4=!(!e.canPlayType||!e.canPlayType('audio/mp4; codecs="mp4a.40.2"').replace(/no/,""))):(I.has.audioFormats.mp3=!1,I.has.audioFormats.ogg=!1,I.has.audioFormats.wav=!1,I.has.audioFormats.mp4=!1),I.has.webAudio=b()}function T(){I.has.rAF=f(),I.has.cssTransform=p(),I.has.mediaQueries=L(),I.has.getUserMedia=v(),E(),y(),O()}function B(){alert("launched!"),e(),r(),l(),T(),window.addEventListener?window.addEventListener("resize",e):window.attachEvent&&window.attachEvent("onresize",e)}function V(){document.removeEventListener?(B(),document.removeEventListener("_handleDOMReady",V)):document.detachEvent&&"complete"===document.readyState&&(B(),document.detachEvent("onreadystatechange",V))}this.VERSION="0.6.0";var I=this;if(!I._exists){I._exists=!0,I.UA=window.navigator.userAgent,I.ua=I.UA.toLowerCase();var N=I.ua;I.DEVICES={phone:"phone",tablet:"tablet",desktop:"desktop"},I.BROWSERS={chrome:"Chrome",safari:"Safari",opera:"Opera",firefox:"Firefox",ie:"Internet Explorer",silk:"Silk",kindle:"Kindle",other:"Other"},I.NOT_AVAILABLE="N/A",I.browser={type:I.NOT_AVAILABLE,version:I.NOT_AVAILABLE,fullVersion:I.NOT_AVAILABLE,string:I.NOT_AVAILABLE,ie:!1,chrome:!1,safari:!1,firefox:!1,opera:!1,silk:!1,kindle:!1,other:!1,mobile:!1},I.device={os:I.NOT_AVAILABLE,orientation:{landscape:I.NOT_AVAILABLE,portrait:I.NOT_AVAILABLE},screenWidth:I.NOT_AVAILABLE,screenHeight:I.NOT_AVAILABLE,windowWidth:I.NOT_AVAILABLE,windowHeight:I.NOT_AVAILABLE,resolution:I.NOT_AVAILABLE,phone:I.NOT_AVAILABLE,tablet:I.NOT_AVAILABLE,desktop:I.NOT_AVAILABLE,touch:I.NOT_AVAILABLE,ios:I.NOT_AVAILABLE},I.has={rAF:I.NOT_AVAILABLE,canvas2d:I.NOT_AVAILABLE,webGL:I.NOT_AVAILABLE,cssTransform:I.NOT_AVAILABLE,mediaQueries:I.NOT_AVAILABLE,getUserMedia:I.NOT_AVAILABLE,audio:I.NOT_AVAILABLE,audioApi:I.NOT_AVAILABLE,audioFormats:{ogg:I.NOT_AVAILABLE,mp3:I.NOT_AVAILABLE,wav:I.NOT_AVAILABLE,aac:I.NOT_AVAILABLE},webAudio:I.NOT_AVAILABLE,video:I.NOT_AVAILABLE,videoFormats:{mp4:I.NOT_AVAILABLE,webm:I.NOT_AVAILABLE,ogg:I.NOT_AVAILABLE}},document.body?(alert("launching without EVENT HANDLER"),B()):(alert("launching with EVENT HANDLER"),document.addEventListener?document.addEventListener("DOMContentLoaded",V):document.attachEvent&&document.attachEvent("onreadystatechange",V))}}};i._init(),e.BREWSER=e.br=i}}(this);